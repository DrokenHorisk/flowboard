<div class="bg-dark-background">
  <div class="container py-3">
    <div class="d-flex gap-5 align-items-center justify-content-between py-5">
      <%= render 'shared/logo' %>
      <div class="d-flex justify-content-center flex-column">
        <h1 class="text-light-grey fs-1">Flowboard</h1>
        <p class="text-light-grey fs-4 mb-3">FlowBoard is more than just a project management platform. It is a complete solution that allows you to streamline your tasks, collaborate seamlessly with your team, manage project timelines efficiently, track progress with detailed analytics, and facilitate effective communication, all within a single, intuitive interface.</p>
      </div>
    </div>
  </div>
</div>

<div class="container py-3">
  <div class="row">
    <% @projects.each do |project| %>
        <div class="col-md-4 mt-4 hover-pointer">
          <%= link_to project_path(project), style: 'color: inherit; text-decoration: none;' do %>
            <div class="h-100 bg-dark-background rounded-4 p-4 min-viewport-30 d-flex flex-column justify-content-between">
              <div>
                <h5 class="fs-4 text-light-grey"><%= project.name %></h5>
                <p class="fs-6 text-light-grey"><%= project.description %></p>
              </div>
              <div class="delete-btn-container">
                <%= link_to "Delete", project, class: "main-btn", data: { turbo_confirm: "Are you sure?", turbo_method: :delete }, method: :delete %>
              </div>
            </div>
          <% end %>
        </div>
    <% end %>

    <div class="col-md-4">
      <div class="fs-3 min-viewport-30 w-100 text-light-grey mt-4 bg-dark-background rounded-4 p-4 d-flex align-items-center justify-content-center" data-bs-toggle="modal" data-bs-target="#createProjectModal" id="createProjectModalButton">
        Create project
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="createProjectModal" tabindex="-1" aria-labelledby="createProjectModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header text-light-grey bg-dark-background border-0">
        <h5 class="modal-title" id="createProjectModalLabel">Create Project</h5>
        <button type="button" class="btn btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body text-light-grey bg-dark-background">
        <%= simple_form_for @project do |f| %>
          <%= f.input :name, input_html: { class: "bg-dark-background text-light-grey" } %>
          <%= f.input :description %>
          <div class="modal-footer mx-0 px-0 border-0">
            <%= f.button :submit, class: "main-btn" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

<% if @project.errors.any? %>
  <script>
    document.getElementById("createProjectModalButton").click()
  </script>
<% end %>